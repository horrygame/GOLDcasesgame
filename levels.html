<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–≤–Ω–∏ - –ë–∏—Ç–≤–∞ –ö—Ä–µ–ø–æ—Å—Ç–µ–π</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Times New Roman', serif;
        }
        
        body {
            background: linear-gradient(135deg, #3e2723, #5d4037);
            color: #f5e8c8;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
        }
        
        .button {
            background: linear-gradient(to bottom, #8d6e63, #6d4c41);
            color: #fff;
            border: none;
            padding: 15px 30px;
            font-size: 22px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 2px solid #5d4037;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7);
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .button:hover {
            background: linear-gradient(to bottom, #a1887f, #8d6e63);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6);
        }
        
        h1 {
            font-size: 64px;
            color: #d7ccc8;
            margin-bottom: 20px;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.7);
            text-align: center;
            font-weight: bold;
            letter-spacing: 2px;
            text-transform: uppercase;
            border-bottom: 3px solid #8d6e63;
            padding-bottom: 10px;
        }
        
        .parchment {
            background: #f5e8c8;
            color: #5d4037;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border: 1px solid #8d6e63;
            max-width: 800px;
            margin: 0 auto 40px;
            font-size: 20px;
        }
        
        .levels-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            padding: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .level-card {
            background: rgba(93, 64, 55, 0.8);
            border: 2px solid #8d6e63;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .level-card:hover {
            transform: translateY(-5px);
            border-color: #ffd54f;
        }
        
        .level-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(93, 64, 55, 0.5);
        }
        
        .level-number {
            font-size: 24px;
            font-weight: bold;
            color: #ffd54f;
            margin-bottom: 10px;
        }
        
        .level-title {
            font-size: 16px;
            color: #f5e8c8;
            margin-bottom: 5px;
        }
        
        .level-difficulty {
            font-size: 12px;
            color: #a1887f;
        }
        
        .level-completed {
            border-color: #81c784;
            background: rgba(129, 199, 132, 0.1);
        }
        
        .level-completed .level-number {
            color: #81c784;
        }
        
        .medieval-border {
            border: 8px solid transparent;
            border-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M0,0 L100,0 L100,100 L0,100 Z M10,10 L90,10 L90,90 L10,90 Z" fill="none" stroke="%238d6e63" stroke-width="4"/></svg>') 8 round;
            padding: 20px;
            background: rgba(61, 43, 31, 0.95);
        }
    </style>
</head>
<body>
    <div class="medieval-border">
        <button class="button back-button" onclick="window.location.href='index.html'">‚Üê –ù–∞–∑–∞–¥</button>
        
        <div class="container">
            <h1>üìö –£—Ä–æ–≤–Ω–∏ –æ–±—É—á–µ–Ω–∏—è</h1>
            <p class="parchment">–ò–∑—É—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Ö–æ–¥—è —É—Ä–æ–≤–Ω–∏ –ø–æ –Ω–∞—Ä–∞—Å—Ç–∞—é—â–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
            
            <div class="levels-grid" id="levels-container">
                <!-- –£—Ä–æ–≤–Ω–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </div>

    <script>
        const levels = [
            {
                id: 1,
                title: "–ü–µ—Ä–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã",
                description: "–ò–∑—É—á–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–≤–∏–∂–µ–Ω–∏—è",
                difficulty: "‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ",
                commands: ["move_forward()", "move_backward()", "move_left()", "move_right()"],
                objective: "–î–æ–π—Ç–∏ –¥–æ –∑–∞–º–∫–∞",
                unlocked: true,
                completed: false
            },
            {
                id: 2,
                title: "–ê—Ç–∞–∫–∞ –≤—Ä–∞–≥–æ–≤",
                description: "–ù–∞—É—á–∏—Ç–µ—Å—å –∞—Ç–∞–∫–æ–≤–∞—Ç—å –≤—Ä–∞–≥–æ–≤",
                difficulty: "‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ",
                commands: ["attack()"],
                objective: "–ü–æ–±–µ–¥–∏—Ç—å 3 –≤—Ä–∞–≥–æ–≤",
                unlocked: false,
                completed: false
            },
            {
                id: 3,
                title: "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã",
                description: "–†–∞–±–æ—Ç–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏",
                difficulty: "‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ",
                commands: ["move_to(x, y)"],
                objective: "–î–æ–π—Ç–∏ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ç–æ—á–∫–∏",
                unlocked: false,
                completed: false
            },
            {
                id: 4,
                title: "–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤",
                description: "–ü–æ–∏—Å–∫ –≤—Ä–∞–≥–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ",
                difficulty: "‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ",
                commands: ["get_enemy_coords()"],
                objective: "–ù–∞–π—Ç–∏ –∏ –ø–æ–±–µ–¥–∏—Ç—å —Å–∫—Ä—ã—Ç–æ–≥–æ –≤—Ä–∞–≥–∞",
                unlocked: false,
                completed: false
            },
            {
                id: 5,
                title: "–¶–∏–∫–ª—ã",
                description: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∫–æ–º–∞–Ω–¥",
                difficulty: "‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ",
                commands: ["repeat()"],
                objective: "–°–æ–∑–¥–∞—Ç—å –ø–∞—Ç—Ä—É–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç",
                unlocked: false,
                completed: false
            },
            {
                id: 6,
                title: "–£—Å–ª–æ–≤–∏—è",
                description: "–£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã",
                difficulty: "‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ",
                commands: ["if_enemy_near()"],
                objective: "–ê—Ç–∞–∫–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –≤—Ä–∞–≥–∞",
                unlocked: false,
                completed: false
            },
            {
                id: 7,
                title: "–§—É–Ω–∫—Ü–∏–∏",
                description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π",
                difficulty: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ",
                commands: ["defend_castle()"],
                objective: "–ó–∞—â–∏—Ç–∏—Ç—å –∑–∞–º–æ–∫ –æ—Ç –≤–æ–ª–Ω—ã –≤—Ä–∞–≥–æ–≤",
                unlocked: false,
                completed: false
            },
            {
                id: 8,
                title: "–ö–æ–º–∞–Ω–¥—ã –≥—Ä—É–ø–ø—ã",
                description: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —é–Ω–∏—Ç–∞–º–∏",
                difficulty: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ",
                commands: ["group_move()"],
                objective: "–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ç–∞–∫–∞",
                unlocked: false,
                completed: false
            },
            {
                id: 9,
                title: "–°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã",
                description: "–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–≤—ã–∫–æ–≤",
                difficulty: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
                commands: ["all"],
                objective: "–ü–æ–±–µ–¥–∏—Ç—å –±–æ—Å—Å–∞",
                unlocked: false,
                completed: false
            },
            {
                id: 10,
                title: "–§–∏–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ",
                description: "–í—Å–µ –∏–∑—É—á–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏",
                difficulty: "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ",
                commands: ["all"],
                objective: "–ü–æ–±–µ–¥–∏—Ç—å –≤ —ç–ø–∏—á–µ—Å–∫–æ–π –±–∏—Ç–≤–µ",
                unlocked: false,
                completed: false
            }
        ];

        function loadLevelsProgress() {
            const saved = localStorage.getItem('fortressBattleLevels');
            if (saved) {
                const progress = JSON.parse(saved);
                levels.forEach(level => {
                    if (progress[level.id]) {
                        level.unlocked = progress[level.id].unlocked;
                        level.completed = progress[level.id].completed;
                    }
                });
            } else {
                // –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
                levels[0].unlocked = true;
                saveLevelsProgress();
            }
        }

        function saveLevelsProgress() {
            const progress = {};
            levels.forEach(level => {
                progress[level.id] = {
                    unlocked: level.unlocked,
                    completed: level.completed
                };
            });
            localStorage.setItem('fortressBattleLevels', JSON.stringify(progress));
        }

        function renderLevels() {
            const container = document.getElementById('levels-container');
            container.innerHTML = '';

            levels.forEach(level => {
                const card = document.createElement('div');
                card.className = `level-card ${level.completed ? 'level-completed' : ''} ${!level.unlocked ? 'locked' : ''}`;
                
                card.innerHTML = `
                    <div class="level-number">${level.id}</div>
                    <div class="level-title">${level.title}</div>
                    <div class="level-difficulty">${level.difficulty}</div>
                    ${level.completed ? '<div style="color:#81c784; margin-top:5px;">‚úì –ü—Ä–æ–π–¥–µ–Ω</div>' : ''}
                `;

                if (level.unlocked) {
                    card.addEventListener('click', () => {
                        window.location.href = `levels/level${level.id}.html`;
                    });
                } else {
                    card.addEventListener('click', () => {
                        alert('–°–Ω–∞—á–∞–ª–∞ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å!');
                    });
                }

                container.appendChild(card);
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π
        loadLevelsProgress();
        renderLevels();
    </script>
</body>
</html>
